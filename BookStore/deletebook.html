<html>
<head>
<title>
Delete books
</title>
</head>
<style>
    Button{
        background-color: #4CAF50; 
  border: none;
  color: white;
  padding: 15px 32px;
  text-align: center;
  text-decoration: none;
  display: inline-block;
  font-size: 16px;
    }
</style>
<body>
    <body background="deletebook.jpg">
	<h1 style="text-align:center">REMOVE BOOKS FROM DATABASE</h1>
	<br><br>
    <h1 style="text-align:center"> ENTER BOOK ID</h1>
    <br><br>
    <form style="text-align:center">
      <tr>
            
   
            <td>
                <h2>Enter the book id</h2> <input type=text name=id placeholder=" Enter id" size="25" id="idname">
            </td>
            
         
         </tr>
             <br><br><br><br>
       <!--  <input type=submit value="submit" onclick="submitBook()"> -->
        
    </form>
   <center>

    <button onclick="submitBook()" >submit</button>
    </center>
  
    <script type="text/javascript">
	function submitBook(){
        var xhr = new XMLHttpRequest();
    var url = "http://127.0.0.1:9000/BookStore/deleteBook";
    xhr.open("delete", url, true);
    xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded; charset=UTF-8");
    xhr.setRequestHeader("Access-Control-Allow-Origin", "*");
    xhr.setRequestHeader("Access-Control-Allow-Headers", "Origin, X-Requested-With, Content-Type, Accept, Authorization");
    xhr.setRequestHeader("Access-Control-Allow-Credentials", "true");
    xhr.setRequestHeader("Access-Control-Allow-Methods", "GET,POST,PUT,DELETE,OPTIONS,HEAD");
    
    xhr.onreadystatechange = function () {
        if (xhr.readyState === 4 && xhr.status === 200) {
            var json = JSON.parse(xhr.responseText);
            console.log(json);
          if(json.result==="failure"){
            alert("No book found to be delete");
        }
        else{
            alert("Book is deleted");
        }
        }
    };
    

   
    var deleteee={
        "id":parseInt(document.getElementById("idname").value),
        "key":"123"
    };
 
    var data = JSON.stringify(
    deleteee
    );
    xhr.send(data);
   
    }
    
    </script>
</body>
</html>
